{% extends "base.html" %}

{% block content %}
  <h2 class="mt-3">Available Configs</h2>
  <table class="table table-dark">
    <thead>
       <tr>
          <th scope="col">Name</th>
          <th scope="col">Cure Profile</th>
          <th scope="col">Horizontal Offset</th>
          <th scope="col">Vertical Offset</th>
          <th scope="col">Horizontal Gap</th>
          <th scope="col">Vertical Gap</th>
          <th scope="col">Slot Gap</th>
          <th scope="col">Actions</th>
       </tr>
    </thead>

    <tbody>
       {% for config in configs %}
          <tr>
            <td scope="col">{{ config.name }}</td>
            <td scope="col">{{ config.cure_profile }}</td>
            <td scope="col">{{ config.horizontal_offset }}</td>
            <td scope="col">{{ config.vertical_offset }}</td>
            <td scope="col">{{ config.horizontal_gap }}</td>
            <td scope="col">{{ config.vertical_gap }}</td>
            <td scope="col">{{ config.slot_gap }}</td>
            <td scope="col">
              <a class="btn btn-outline-primary btn-sm" href="{{ url_for('edit_config', config_id=config.id) }}">Edit</a>
            </td>
            <td scope="col">
              <a class="btn btn-outline-primary btn-sm" href="{{ url_for('copy_config', config_id=config.id) }}">Copy</a>
            </td>
            <td scope="col">
              <a class="btn btn-outline-danger btn-sm" href="{{ url_for('delete_config', config_id=config.id) }}">Delete</a>
            </td>
          </tr>
       {% endfor %}
    </tbody>
  </table>
  <div class="d-flex justify-content-center">
    {% for page_num in configs.iter_pages(left_edge=1, right_edge=1, left_current=1, right_current=2) %}
      {% if page_num %}
        {% if configs.page == page_num %}
          <a class="btn btn-primary mb-4 mr-2" href="{{ url_for('configs', page=page_num) }}">{{ page_num }}</a>
        {% else %}
          <a class="btn btn-outline-primary mb-4 mr-2" href="{{ url_for('configs', page=page_num) }}">{{ page_num }}</a>
        {% endif %}
      {% else %}
      {% endif %}
    {% endfor %}
  </div>

  <h2 class="mt-3">Create New Config</h2>
  <form method="POST" action="">
    {{ form.hidden_tag() }}
    <fieldset class="form-group">
      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            {{ form.name.label(class="form-control-label") }}
            {% if form.name.errors %}
              {{ form.name(class="form-control form-control-lg is-invalid") }}
              <div class="invalid-feedback">
                {% for error in form.name.errors %}
                  <span>{{ error }}</span>
                {% endfor %}
              </div>
            {% else %}
              {{ form.name(class="form-control form-control-lg") }}
            {% endif %}
          </div>
        </div>
        <div class="col-md-4">
          <div class="form-group">
            {{ form.cure_profile.label(class="form-control-label") }}
            {% if form.cure_profile.errors %}
              {{ form.cure_profile(class="form-control form-control-lg is-invalid") }}
              <div class="invalid-feedback">
                {% for error in form.cure_profile.errors %}
                  <span>{{ error }}</span>
                {% endfor %}
              </div>
            {% else %}
              {{ form.cure_profile(class="form-control form-control-lg") }}
            {% endif %}
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-2">
          <div class="form-group">
            {{ form.horizontal_offset.label(class="form-control-label") }}
            {% if form.horizontal_offset.errors %}
              {{ form.horizontal_offset(class="form-control form-control-lg is-invalid") }}
              <div class="invalid-feedback">
                {% for error in form.horizontal_offset.errors %}
                  <span>{{ error }}</span>
                {% endfor %}
              </div>
            {% else %}
              {{ form.horizontal_offset(class="form-control form-control-lg") }}
            {% endif %}
          </div>
        </div>
        <div class="col-md-2">
          <div class="form-group">
            {{ form.vertical_offset.label(class="form-control-label") }}
            {% if form.vertical_offset.errors %}
              {{ form.vertical_offset(class="form-control form-control-lg is-invalid") }}
              <div class="invalid-feedback">
                {% for error in form.vertical_offset.errors %}
                  <span>{{ error }}</span>
                {% endfor %}
              </div>
            {% else %}
              {{ form.vertical_offset(class="form-control form-control-lg") }}
            {% endif %}
          </div>
        </div>
        <div class="col-md-2">
          <div class="form-group">
            {{ form.horizontal_gap.label(class="form-control-label") }}
            {% if form.horizontal_gap.errors %}
              {{ form.horizontal_gap(class="form-control form-control-lg is-invalid") }}
              <div class="invalid-feedback">
                {% for error in form.horizontal_gap.errors %}
                  <span>{{ error }}</span>
                {% endfor %}
              </div>
            {% else %}
              {{ form.horizontal_gap(class="form-control form-control-lg") }}
            {% endif %}
          </div>
        </div>
        <div class="col-md-2">
          <div class="form-group">
            {{ form.vertical_gap.label(class="form-control-label") }}
            {% if form.vertical_gap.errors %}
              {{ form.vertical_gap(class="form-control form-control-lg is-invalid") }}
              <div class="invalid-feedback">
                {% for error in form.vertical_gap.errors %}
                  <span>{{ error }}</span>
                {% endfor %}
              </div>
            {% else %}
              {{ form.vertical_gap(class="form-control form-control-lg") }}
            {% endif %}
          </div>
        </div>
        <div class="col-md-2">
          <div class="form-group">
            {{ form.slot_gap.label(class="form-control-label") }}
            {% if form.slot_gap.errors %}
              {{ form.slot_gap(class="form-control form-control-lg is-invalid") }}
              <div class="invalid-feedback">
                {% for error in form.slot_gap.errors %}
                  <span>{{ error }}</span>
                {% endfor %}
              </div>
            {% else %}
              {{ form.slot_gap(class="form-control form-control-lg") }}
            {% endif %}
          </div>
        </div>
      </div>
    </fieldset>
    <div class="form-group">
      {{ form.submit(class="btn btn-outline-primary") }}
    </div>
    <div class="border-top pt-1">
      <small class="text-muted">
        Unsure on what values to input? <a href="{{ url_for('help') }}">Get Help</a>
      </small>
    </div>
  </form>
{% endblock %}